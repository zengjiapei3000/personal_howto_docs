(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{366:function(e,t,n){!function(e){"use strict";function t(){}function n(e,t,n,r,o){for(var i=0,s=t.length,a=0,l=0;i<s;i++){var u=t[i];if(u.removed){if(u.value=e.join(r.slice(l,l+u.count)),l+=u.count,i&&t[i-1].added){var f=t[i-1];t[i-1]=t[i],t[i]=f}}else{if(!u.added&&o){var h=n.slice(a,a+u.count);h=h.map((function(e,t){var n=r[l+t];return n.length>e.length?n:e})),u.value=e.join(h)}else u.value=e.join(n.slice(a,a+u.count));a+=u.count,u.added||(l+=u.count)}}var d=t[s-1];return s>1&&"string"==typeof d.value&&(d.added||d.removed)&&e.equals("",d.value)&&(t[s-2].value+=d.value,t.pop()),t}function r(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.callback;"function"==typeof o&&(i=o,o={}),this.options=o;var s=this;function a(e){return i?(setTimeout((function(){i(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,u=e.length,f=1,h=l+u,d=[{newPos:-1,components:[]}],c=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=l&&c+1>=u)return a([{value:this.join(t),count:t.length}]);function p(){for(var o=-1*f;o<=f;o+=2){var i=void 0,h=d[o-1],c=d[o+1],p=(c?c.newPos:0)-o;h&&(d[o-1]=void 0);var m=h&&h.newPos+1<l,v=c&&0<=p&&p<u;if(m||v){if(!m||v&&h.newPos<c.newPos?(i=r(c),s.pushComponent(i.components,void 0,!0)):((i=h).newPos++,s.pushComponent(i.components,!0,void 0)),p=s.extractCommon(i,t,e,o),i.newPos+1>=l&&p+1>=u)return a(n(s,i.components,t,e,s.useLongestToken));d[o]=i}else d[o]=void 0}f++}if(i)!function e(){setTimeout((function(){if(f>h)return i();p()||e()}),0)}();else for(;f<=h;){var m=p();if(m)return m}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,s=e.newPos,a=s-r,l=0;s+1<o&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function i(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,l=new t;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},l.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var u=new t;function f(e,t,n){return u.diff(e,t,n)}u.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var h=new t;h.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var d=new t;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}d.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var v=Object.prototype.toString,w=new t;function g(e,t,n,r,o){var i,s;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===v.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=g(e[i],t,n,r,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===c(e)&&null!==e){t.push(e),s={},n.push(s);var a,l=[];for(a in e)e.hasOwnProperty(a)&&l.push(a);for(l.sort(),i=0;i<l.length;i+=1)s[a=l[i]]=g(e[a],t,n,r,a);t.pop(),n.pop()}else s=e;return s}w.useLongestToken=!0,w.tokenize=u.tokenize,w.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(g(e,null,null,o),o,"  ")},w.equals=function(e,n){return t.prototype.equals.call(w,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var y=new t;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function s(){var e={};for(o.push(e);i<n.length;){var r=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);s&&(e.index=s[1]),i++}for(a(e),a(e),e.hunks=[];i<n.length;){var u=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(l());else{if(u&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(u));i++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(t){var r="---"===t[1]?"old":"new",o=t[2].split("\t",2),s=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[r+"FileName"]=s,e[r+"Header"]=(o[1]||"").trim(),i++}}function l(){var e=i,o=n[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+o[1],oldLines:void 0===o[2]?1:+o[2],newStart:+o[3],newLines:void 0===o[4]?1:+o[4],lines:[],linedelimiters:[]};0===s.oldLines&&(s.oldStart+=1),0===s.newLines&&(s.newStart+=1);for(var a=0,l=0;i<n.length&&!(0===n[i].indexOf("--- ")&&i+2<n.length&&0===n[i+1].indexOf("+++ ")&&0===n[i+2].indexOf("@@"));i++){var u=0==n[i].length&&i!=n.length-1?" ":n[i][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)break;s.lines.push(n[i]),s.linedelimiters.push(r[i]||"\n"),"+"===u?a++:"-"===u?l++:" "===u&&(a++,l++)}if(a||1!==s.newLines||(s.newLines=0),l||1!==s.oldLines||(s.oldLines=0),t.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;i<n.length;)s();return o}function _(e,t,n){var r=!0,o=!1,i=!1,s=1;return function a(){if(r&&!i){if(o?s++:r=!1,e+s<=n)return s;i=!0}if(!o)return i||(r=!0),t<=e-s?-s++:(o=!0,a())}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=b(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r,o,i=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,l=n.compareLine||function(e,t,n,r){return t===r},u=0,f=n.fuzzFactor||0,h=0,d=0;function c(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],o=r.length>0?r[0]:" ",s=r.length>0?r.substr(1):r;if(" "===o||"-"===o){if(!l(t+1,i[t],o,s)&&++u>f)return!1;t++}}return!0}for(var p=0;p<a.length;p++){for(var m=a[p],v=i.length-m.oldLines,w=0,g=d+m.oldStart-1,y=_(g,h,v);void 0!==w;w=y())if(c(m,g+w)){m.offset=d+=w;break}if(void 0===w)return!1;h=m.offset+m.oldStart+m.oldLines}for(var x=0,S=0;S<a.length;S++){var L=a[S],k=L.oldStart+L.offset+x-1;x+=L.newLines-L.oldLines;for(var T=0;T<L.lines.length;T++){var C=L.lines[T],N=C.length>0?C[0]:" ",q=C.length>0?C.substr(1):C,F=L.linedelimiters[T];if(" "===N)k++;else if("-"===N)i.splice(k,1),s.splice(k,1);else if("+"===N)i.splice(k,0,q),s.splice(k,0,F),k++;else if("\\"===N){var P=L.lines[T-1]?L.lines[T-1][0]:null;"+"===P?r=!0:"-"===P&&(o=!0)}}}if(r)for(;!i[i.length-1];)i.pop(),s.pop();else o&&(i.push(""),s.push("\n"));for(var R=0;R<i.length-1;R++)i[R]=i[R]+s[R];return i.join("")}function S(e,t,n,r,o,i,s){s||(s={}),void 0===s.context&&(s.context=4);var a=f(n,r,s);function l(e){return e.map((function(e){return" "+e}))}a.push({value:"",lines:[]});for(var u=[],h=0,d=0,c=[],m=1,v=1,w=function(e){var t=a[e],o=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=o,t.added||t.removed){var i;if(!h){var f=a[e-1];h=m,d=v,f&&(c=s.context>0?l(f.lines.slice(-s.context)):[],h-=c.length,d-=c.length)}(i=c).push.apply(i,p(o.map((function(e){return(t.added?"+":"-")+e})))),t.added?v+=o.length:m+=o.length}else{if(h)if(o.length<=2*s.context&&e<a.length-2){var w;(w=c).push.apply(w,p(l(o)))}else{var g,y=Math.min(o.length,s.context);(g=c).push.apply(g,p(l(o.slice(0,y))));var b={oldStart:h,oldLines:m-h+y,newStart:d,newLines:v-d+y,lines:c};if(e>=a.length-2&&o.length<=s.context){var _=/\n$/.test(n),x=/\n$/.test(r),S=0==o.length&&c.length>b.oldLines;!_&&S&&n.length>0&&c.splice(b.oldLines,0,"\\ No newline at end of file"),(_||S)&&x||c.push("\\ No newline at end of file")}u.push(b),h=0,d=0,c=[]}m+=o.length,v+=o.length}},g=0;g<a.length;g++)w(g);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:i,hunks:u}}function L(e,t,n,r,o,i,s){return function(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join("\n")+"\n"}(S(e,t,n,r,o,i,s))}function k(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function T(e){var t=function e(t){var n=0,r=0;return t.forEach((function(t){if("string"!=typeof t){var o=e(t.mine),i=e(t.theirs);void 0!==n&&(o.oldLines===i.oldLines?n+=o.oldLines:n=void 0),void 0!==r&&(o.newLines===i.newLines?r+=o.newLines:r=void 0)}else void 0===r||"+"!==t[0]&&" "!==t[0]||r++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:r}}(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function C(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return b(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return S(void 0,void 0,t,e)}return e}function N(e){return e.newFileName&&e.newFileName!==e.oldFileName}function q(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function F(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function P(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function R(e,t,n,r,o){var i={offset:t,lines:n,index:0},s={offset:r,lines:o,index:0};for(j(e,i,s),j(e,s,i);i.index<i.lines.length&&s.index<s.lines.length;){var a=i.lines[i.index],l=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==l[0]&&"+"!==l[0])if("+"===a[0]&&" "===l[0]){var u;(u=e.lines).push.apply(u,p(U(i)))}else if("+"===l[0]&&" "===a[0]){var f;(f=e.lines).push.apply(f,p(U(s)))}else"-"===a[0]&&" "===l[0]?H(e,i,s):"-"===l[0]&&" "===a[0]?H(e,s,i,!0):a===l?(e.lines.push(a),i.index++,s.index++):A(e,U(i),U(s));else E(e,i,s)}O(e,i),O(e,s),T(e)}function E(e,t,n){var r,o,i=U(t),s=U(n);if(D(i)&&D(s)){var a,l;if(k(i,s)&&z(n,i,i.length-s.length))return void(a=e.lines).push.apply(a,p(i));if(k(s,i)&&z(t,s,s.length-i.length))return void(l=e.lines).push.apply(l,p(s))}else if(o=s,(r=i).length===o.length&&k(r,o)){var u;return void(u=e.lines).push.apply(u,p(i))}A(e,i,s)}function H(e,t,n,r){var o,i=U(t),s=function(e,t){for(var n=[],r=[],o=0,i=!1,s=!1;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],l=t[o];if("+"===l[0])break;if(i=i||" "!==a[0],r.push(l),o++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];l.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}if("+"===(t[o]||"")[0]&&i&&(s=!0),s)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}(n,i);s.merged?(o=e.lines).push.apply(o,p(s.merged)):A(e,r?s:i,r?i:s)}function A(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function j(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function O(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function U(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function D(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function z(e,t,n){for(var r=0;r<n;r++){var o=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=n,!0}y.tokenize=function(e){return e.slice()},y.join=y.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=x,e.applyPatches=function(e,t){"string"==typeof e&&(e=b(e));var n=0;!function r(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,(function(e,n){if(e)return t.complete(e);var i=x(n,o,t);t.patched(o,i,(function(e){if(e)return t.complete(e);r()}))}))}()},e.canonicalize=g,e.convertChangesToDMP=function(e){for(var t,n,r=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,r.push([n,t.value]);return r},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push((o=r.value,void 0,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}var o;return t.join("")},e.createPatch=function(e,t,n,r,o,i){return L(e,e,t,n,r,o,i)},e.createTwoFilesPatch=L,e.diffArrays=function(e,t,n){return y.diff(e,t,n)},e.diffChars=function(e,t,n){return o.diff(e,t,n)},e.diffCss=function(e,t,n){return d.diff(e,t,n)},e.diffJson=function(e,t,n){return w.diff(e,t,n)},e.diffLines=f,e.diffSentences=function(e,t,n){return h.diff(e,t,n)},e.diffTrimmedLines=function(e,t,n){var r=i(n,{ignoreWhitespace:!0});return u.diff(e,t,r)},e.diffWords=function(e,t,n){return n=i(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)},e.merge=function(e,t,n){e=C(e,n),t=C(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(N(e)?N(t)?(r.oldFileName=q(r,e.oldFileName,t.oldFileName),r.newFileName=q(r,e.newFileName,t.newFileName),r.oldHeader=q(r,e.oldHeader,t.oldHeader),r.newHeader=q(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var o=0,i=0,s=0,a=0;o<e.hunks.length||i<t.hunks.length;){var l=e.hunks[o]||{oldStart:1/0},u=t.hunks[i]||{oldStart:1/0};if(F(l,u))r.hunks.push(P(l,s)),o++,a+=l.newLines-l.oldLines;else if(F(u,l))r.hunks.push(P(u,a)),i++,s+=u.newLines-u.oldLines;else{var f={oldStart:Math.min(l.oldStart,u.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,u.oldStart+a),newLines:0,lines:[]};R(f,l.oldStart,l.lines,u.oldStart,u.lines),i++,o++,r.hunks.push(f)}}return r},e.parsePatch=b,e.structuredPatch=S,Object.defineProperty(e,"__esModule",{value:!0})}(t)},367:function(e,t,n){"use strict";
/*! MIT License Â© Sindre Sorhus */const r=e=>null!==e&&"object"==typeof e,o="function"==typeof globalThis.AbortController,i="function"==typeof globalThis.ReadableStream,s="function"==typeof globalThis.FormData,a=(e,t)=>{const n=new globalThis.Headers(e||{}),r=t instanceof globalThis.Headers,o=new globalThis.Headers(t||{});for(const[e,t]of o)r&&"undefined"===t||void 0===t?n.delete(e):n.set(e,t);return n},l=(...e)=>{let t={},n={};for(const o of e){if(Array.isArray(o))Array.isArray(t)||(t=[]),t=[...t,...o];else if(r(o)){for(let[e,n]of Object.entries(o))r(n)&&e in t&&(n=l(t[e],n)),t={...t,[e]:n};r(o.headers)&&(n=a(n,o.headers))}t.headers=n}return t},u=["get","post","put","patch","head","delete"],f={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},h=[413,429,503],d=Symbol("stop");class c extends Error{constructor(e,t,n){super(e.statusText||String(0===e.status||e.status?e.status:"Unknown response error")),this.name="HTTPError",this.response=e,this.request=t,this.options=n}}class p extends Error{constructor(e){super("Request timed out"),this.name="TimeoutError",this.request=e}}const m=e=>new Promise(t=>setTimeout(t,e)),v=e=>u.includes(e)?e.toUpperCase():e,w={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:h},g=(e={})=>{if("number"==typeof e)return{...w,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...w,...e,afterStatusCodes:h}};class y{constructor(e,t={}){if(this._retryCount=0,this._input=e,this._options={credentials:this._input.credentials||"same-origin",...t,headers:a(this._input.headers,t.headers),hooks:l({beforeRequest:[],beforeRetry:[],afterResponse:[]},t.hooks),method:v(t.method||this._input.method),prefixUrl:String(t.prefixUrl||""),retry:g(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:void 0===t.timeout?1e4:t.timeout,fetch:t.fetch||globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(o&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const e="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,e);!(s&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}));const n=async()=>{if(this._options.timeout>2147483647)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await m(1);let e=await this._fetch();for(const t of this._options.hooks.afterResponse){const n=await t(this.request,this._options,this._decorateResponse(e.clone()));n instanceof globalThis.Response&&(e=n)}if(this._decorateResponse(e),!e.ok&&this._options.throwHttpErrors)throw new c(e,this.request,this._options);if(this._options.onDownloadProgress){if("function"!=typeof this._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!i)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(e.clone(),this._options.onDownloadProgress)}return e},r=this._options.retry.methods.includes(this.request.method.toLowerCase())?this._retry(n):n();for(const[e,n]of Object.entries(f))r[e]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||n);const o=(await r).clone();if("json"===e){if(204===o.status)return"";if(t.parseJson)return t.parseJson(await o.text())}return o[e]()};return r}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof p)){if(e instanceof c){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter?0:e}if(413===e.response.status)return 0}return.3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){const n=Math.min(this._calculateRetryDelay(t),2147483647);if(0!==n&&this._retryCount>0){await m(n);for(const e of this._options.hooks.beforeRetry){if(await e({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===d)return}return this._retry(e)}if(this._options.throwHttpErrors)throw t}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}return!1===this._options.timeout?this._options.fetch(this.request.clone()):(e=this.request.clone(),t=this.abortController,n=this._options,new Promise((r,o)=>{const i=setTimeout(()=>{t&&t.abort(),o(new p(e))},n.timeout);n.fetch(e).then(r).catch(o).then(()=>{clearTimeout(i)})}));var e,t,n}_stream(e,t){const n=Number(e.headers.get("content-length"))||0;let r=0;return new globalThis.Response(new globalThis.ReadableStream({async start(o){const i=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array),await async function e(){const{done:s,value:a}=await i.read();if(s)o.close();else{if(t){r+=a.byteLength;t({percent:0===n?0:r/n,transferredBytes:r,totalBytes:n},a)}o.enqueue(a),await e()}}()}}))}}const b=(...e)=>{for(const t of e)if((!r(t)||Array.isArray(t))&&void 0!==t)throw new TypeError("The `options` argument must be an object");return l({},...e)},_=e=>{const t=(t,n)=>new y(t,b(e,n));for(const n of u)t[n]=(t,r)=>new y(t,b(e,r,{method:n}));return t.HTTPError=c,t.TimeoutError=p,t.create=e=>_(b(e)),t.extend=t=>_(b(e,t)),t.stop=d,t},x=_();t.a=x}}]);